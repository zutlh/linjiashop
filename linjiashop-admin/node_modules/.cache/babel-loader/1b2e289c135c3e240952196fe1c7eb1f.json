{"remainingRequest":"D:\\project\\linjiashop\\linjiashop-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\linjiashop\\linjiashop-admin\\src\\views\\shop\\order\\orderDetail.js","dependencies":[{"path":"D:\\project\\linjiashop\\linjiashop-admin\\src\\views\\shop\\order\\orderDetail.js","mtime":1647065573776},{"path":"D:\\project\\linjiashop\\linjiashop-admin\\babel.config.js","mtime":1647065573618},{"path":"D:\\project\\linjiashop\\linjiashop-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\linjiashop\\linjiashop-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/project/linjiashop/linjiashop-admin/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _order = _interopRequireDefault(require(\"@/api/shop/order\"));\n\nvar _express = _interopRequireDefault(require(\"@/api/system/express\"));\n\nvar _utils = require(\"@/utils/utils\");\n\nvar _default = {\n  data: function data() {\n    return {\n      form: {\n        user: {\n          id: '',\n          name: ''\n        },\n        address: {\n          name: '',\n          tel: '',\n          addressDetail: ''\n        }\n      },\n      apiUrl: (0, _utils.getApiUrl)(),\n      expressList: [],\n      shipping: {\n        show: false,\n        id: '',\n        idExpress: '',\n        shippingSn: ''\n      }\n    };\n  },\n  created: function created() {\n    this.form.orderSn = this.$route.query.orderSn;\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      this.fetchData();\n    },\n    fetchData: function fetchData() {\n      var _this = this;\n\n      if (this.form.orderSn) {\n        _order.default.getOrder(this.form.orderSn).then(function (response) {\n          _this.form = response.data;\n        });\n      }\n    },\n    openSendOutForm: function openSendOutForm() {\n      var _this2 = this;\n\n      if (this.expressList.length == 0) {\n        _express.default.queryAll().then(function (response) {\n          _this2.expressList = response.data;\n        });\n      }\n\n      this.shipping.show = true;\n    },\n    sendOut: function sendOut() {\n      var _this3 = this;\n\n      this.$confirm(this.$t('common.optionConfirm'), this.$t('common.tooltip'), {\n        confirmButtonText: this.$t('button.submit'),\n        cancelButtonText: this.$t('button.cancel'),\n        type: 'warning'\n      }).then(function () {\n        _order.default.sendOut(_this3.form.id, _this3.shipping.idExpress, _this3.shipping.shippingSn).then(function (response) {\n          _this3.fetchData();\n\n          _this3.shipping.show = false;\n\n          _this3.$message({\n            message: '发货成功',\n            type: 'success'\n          });\n        });\n      }).catch(function () {});\n    },\n    formatPrice: function formatPrice(price) {\n      if (price) {\n        return '￥' + (price / 100).toFixed(2);\n      }\n\n      return '';\n    },\n    printOrder: function printOrder() {\n      this.$print(this.$refs.print);\n    }\n  }\n};\nexports.default = _default;",null]}